<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>切换图片练习</title>
    <style type="text/css">
        * {
            margin: 0;
            padding: 0;
        }
        body {
            margin-left: 30%;
        }
        img {
            width: 360px;
            height: 350px;
        }
    </style>
    <script type="text/javascript">
        window.onload = function () {

            /*
            * 使图片可以自动切换 
            */
            var img1 = document.getElementById("img1");
            
            // 创建一个数组来保存图片的路径
            var imgArr = ["../images/01.jpg","../images/02.jpg","../images/03.jpg","../images/04.jpg","../images/05.jpg"];
            
            // 创建一个变量，用来保存当前图片的索引
            var index = 0;

            // 定义一个变量，来保存定时器的标识（直接在 btn01 函数里面定义的话属于局部变量，在 btn02 里面访问不到）
            var timer;
            var btn01 =document.getElementById("btn01");
            var btn02 =document.getElementById("btn02");
            btn01.onclick = function(){

                /*
                * 目前，我们每点击一次按钮，就会开启一个定时器
                *  点击多次就会开启多个定时器，这就导致图片的切换速度过快
                *  并且我们只能关闭最后一次开启的定时器
                */

                // 在开启定时器之前，需要将当前元素的其他定时器关闭
                clearInterval(timer);

                /*
                *  开启一个定时器，来自动切换图片
                */
               timer = setInterval(function () {

                    // 使索引自增
                    index++;

                    // 判断索引是否超过最大索引
                    /*if (index >= imgArr.length){
                        index = 0;
                    }*/
                    index = index % imgArr.length;

                    // 修改 img1 的 src 属性
                    img1.src = imgArr[index];
                },1000);
            };

            btn02.onclick = function(){
                clearInterval(timer);
            }

        }
    </script>
</head>
<body>
<img id="img1" src="../images/01.jpg" alt="">
<button id="btn01">开始</button>
<button id="btn02">停止</button>
</body>
</html>