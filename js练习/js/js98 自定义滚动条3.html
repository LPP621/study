<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title></title>
	<style type="text/css">
		#father {width: 600px;height: 800px;}
		#parent {width: 20px;height: 500px;background: #ccc;position: relative;margin: 10px auto;border-radius: 100px; float: right;}
		#div1 {width: 20px;height: 20px;background: pink;position: absolute;left: 0;top: 0;border-radius: 100px;}
		#div2 {width: 400px;height: 300px;border:1px solid black;overflow: hidden;position: relative;top: 60px;}
		#div3 {position: absolute;left: 0;top: 0;padding: 4px;line-height: 30px;}
	</style>
	<script type="text/javascript">
		window.onload=function()
		{
			var oDiv=document.getElementById('div1');
			var oDiv2=document.getElementById('div2');
			var oDiv3=document.getElementById('div3');
			var oParent=document.getElementById('parent');

			var disY=0;

			oDiv.onmousedown=function(ev)
			{
				var oEvent=ev||event;

				disY=oEvent.clientY-oDiv.offsetTop;      // 鼠标摁下时，鼠标离左边框的距离=鼠标的坐标- div 左边框的左边距

				document.onmousemove=function(ev)             // 鼠标在 document 移动时，边框跟着鼠标走
				{
					var oEvent=ev||event;
					var t=oEvent.clientY-disY;

					if (t<0) 
					{
						t=0;
					}
					else
						if (t>oParent.offsetHeight-oDiv.offsetHeight) 
						{
							t=oParent.offsetHeight-oDiv.offsetHeight;
						}

					oDiv.style.top=t+'px';      // 鼠标移动时，div 左边框的左边距=鼠标的坐标- 鼠标离左边框的距离

					// 将滚动的宽度打印在 title 上
					// document.title=l;

					var scale=t/(oParent.offsetHeight-oDiv.offsetHeight);

					oDiv3.style.top=-scale*(oDiv3.offsetHeight-oDiv2.offsetHeight)+'px';
				}
				document.onmouseup=function()                     // 鼠标不点击的时候，将鼠标移动的效果取消
				{
					document.onmousemove=null;
					document.onmouseup=null;
				}
				return false;
			}
		}
	</script>
</head>
<body>
	<div id="father">
		<div id="parent">
			<div id="div1"></div>
		</div>
		<div id="div2">
			<div id="div3">
				JavaScript 是一种轻量级的脚本语言。所谓“脚本语言”（script language），指的是它不具备开发操作系统的能力，而是只用来编写控制其他大型应用程序（比如浏览器）的“脚本”。
				JavaScript 也是一种嵌入式（embedded）语言。它本身提供的核心语法不算很多，只能用来做一些数学和逻辑运算。JavaScript 本身不提供任何与 I/O（输入/输出）相关的 			API，都要靠宿主环境（host）提供，所以 JavaScript 只合适嵌入更大型的应用程序环境，去调用宿主环境提供的底层 API。			
			    目前，已经嵌入 JavaScript 的宿主环境有多种，最常见的环境就是浏览器，另外还有服务器环境，也就是 Node 项目。			
				从语法角度看，JavaScript 语言是一种“对象模型”语言。各种宿主环境通过这个模型，描述自己的功能和操作接口，从而通过 JavaScript 控制这些功能。但是，JavaScript 			并不是纯粹的“面向对象语言”，还支持其他编程范式（比如函数式编程）。这导致几乎任何一个问题，JavaScript 都有多种解决方法。阅读本书的过程中，你会诧异于 JavaScript 语法的灵活性。	
				JavaScript的核心语法部分相当精简，只包括两个部分：基本的语法构造（比如操作符、控制结构、语句）和标准库（就是一系列具有各种功能的对象比如Array、Date、Math等）。除此之外，各种宿主环境提供额外的API（即只能在该环境使用的接口），以便 JavaScript 调用。以浏览器为例，它提供的额外 API 可以分成三大类。			
				浏览器控制类：操作浏览器
				DOM 类：操作网页的各种元素
				Web 类：实现互联网的各种功能
			</div>
		</div>
	</div>
</body>
</html>