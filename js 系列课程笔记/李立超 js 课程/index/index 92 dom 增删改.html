<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>dom 增删改</title>
    <link rel="stylesheet" href="../style/css87.css">
    <script type="text/javascript">

        /*
        *  定义一个函数，专门用来为指定元素绑定单击响应函数
        *  参数：
        *      idStr   要绑定单击响应函数的对象的 id 属性值
        *      fun     事件的回调函数，当单击元素时，该函数将会被触发
        */
        function myClick(idStr,fun){
            var btn = document.getElementById(idStr);
            btn.onclick = fun;
        }


        window.onload = function () {

            // 1、 创建一个"广州节点，添加到 #city 下
            myClick("btn01",function () {

                /*
                *  document.createElement()
                *      可以用来创建一个元素节点对象，
                *       它需要一个标签名作为参数，将会根据该标签名创建元素节点对象
                *       并将创建好的对象作为返回值返回
                */

               // 创建广州元素节点 <li>广州</li>
                var li = document.createElement("li");
                // alert("success");   //调试

                /*
                *  document.createTextNode()
                *   可以用来创建一个文本节点对象
                *   需要一个文本内容作为参数，将会根据该内容创建文本节点，并将新的节点返回
                */

                // 创建广州文本节点
                var gzText = document.createTextNode("广州");
                // alert("success");  // 调试

                /*
                * appendChild()
                *    - 向一个父节点中添加一个新的子节点
                *    - 用法：
                *         父节点.appendChild(子节点);
                *
                */

                // 将 gzText 设置为 li 的子节点
                li.appendChild(gzText);

                // 获取 id 为 city 的节点
                var city = document.getElementById("city");

                // 将"广州"添加到 city 下
                city.appendChild(li);

            });
        
            // 2、将 "广州" 节点插入到 #zz 前面
            myClick("btn02",function () {
                // 创建一个广州
                var li = document.createElement("li");
                var gzText = document.createTextNode("广州");
                li.appendChild(gzText);

                // 获取"zz"的节点
                var zz = document.getElementById("zz");

                // 获取 city
                var city = document.getElementById("city");

                /*
                *  insertBefore()
                *     - 可以在指定的子节点前插入新的子节点
                *     - 语法：
                *            父节点.insertBefore(新节点, 旧节点);
                */

                city.insertBefore(li,zz);
            });


            // 3、 使用 "广州" 节点替换 #bj 节点
            myClick("btn03",function () {
                // 创建一个广州
                var li = document.createElement("li");
                var bjText = document.createTextNode("广州");
                li.appendChild(bjText);

                // 获取"bj"的节点
                var bj = document.getElementById("bj");

                // 获取 city
                var city = document.getElementById("city");

                /*
                *  replaceChild()
                *    - 可以用新的指定的子节点替换已有的子节点
                *    - 语法：
                *         父节点.replaceChild(新节点, 旧节点);
                */
                city.replaceChild(li,bj)
            });

            // 4、删除 #xm 节点
            myClick("btn04",function () {

                // 获取"bj"的节点
                var xm = document.getElementById("xm");

                // 获取 city
                // var city = document.getElementById("city");

                /*
                *  removeChild()
                *    - 删除子节点
                *    - 语法一：
                *         父节点.removeChild(节点);
                *    - 语法二：（不用获取父元素）
                *          节点.parentNode.removeChild(节点)
                */

                // city.removeChild(xm);
                xm.parentNode.removeChild(xm);
            });


            // 5、读取 #city 内的 HTML 代码
            myClick("btn05",function () {
                var city = document.getElementById("city");
                alert(city.innerHTML);
            });
            
            // 6、设置 #sh 内的 HTML 代码
            myClick("btn06",function () {
                var sh = document.getElementById("sh");
                sh.innerHTML = "昌平";
            });

            // 7、创建一个"广州节点，添加到 #city 下
            myClick("btn07",function () {
                var city = document.getElementById("city");

                /*
                * 使用 innerHTML 也可以完成增删改
                * 但是比较耗能，一般会两种方式结合使用
                */
                // city.innerHTML += "<li>广州</li>";

                // 创建li
                var li = document.createElement("li");
                // 向 li 中设置文本
                li.innerHTML = "广州";
                // 将 li 添加到 city 中
                city.appendChild(li);
            })
        }

    </script>
</head>
<body>
<div id="total">
    <div id="inner">
        <div id="inner1">
            <p>你喜欢哪个城市？</p>
            <ul id="city">
                <li id="bj">北京</li>
                <li id="sh">上海</li>
                <li id="xm">厦门</li>
                <li id="zz">郑州</li>
            </ul>
        </div>
    </div>
    <div id="btnList">
        <div><button id="btn01">创建一个 "广州" 节点，添加到 #city 下</button></div>
        <div><button id="btn02">将 "广州" 节点插入到 #zz 前面"</button></div>
        <div><button id="btn03">使用 "广州" 节点替换 #bj 节点</button></div>
        <div><button id="btn04">删除 #xm 节点</button></div>
        <div><button id="btn05">读取 #city 内的 HTML 代码</button></div>
        <div><button id="btn06">设置 #sh 内的 HTML 代码</button></div>
        <div><button id="btn07">创建一个 "广州" 节点，添加到 #city 下</button></div></div>
</div>
</body>
</html>
